var test = require('tape')
var parseTemplateArgs = require('../parse-template-arguments.js')

test('Parsing template arguments', function (t) {
	t.deepEqual(parseTemplateArgs([ 'hello=world' ]), { hello: 'world' })
	t.deepEqual(parseTemplateArgs([ 'helloworld' ]), { 1: 'helloworld' })
	t.deepEqual(parseTemplateArgs([ 'hi', 'world' ]), { 1: 'hi', 2: 'world' })
	t.deepEqual(parseTemplateArgs([ 'a=b', 'c=d=e' ]), { a: 'b', c: 'd' })
	t.deepEqual(parseTemplateArgs([ 'a=b=c=d=e=f' ]), { a: 'b' })
	t.deepEqual(parseTemplateArgs([ 'a=b', 'a=wat' ]), { a: 'wat' })
	t.deepEqual(parseTemplateArgs([ '=b', 'a=wat' ]), { 1: 'b', a: 'wat' })
	t.deepEqual(parseTemplateArgs([ 'totally', 'a', 'test' ]), { 1: 'totally', 2: 'a', 3: 'test' })
	t.deepEqual(parseTemplateArgs([ 'totally', 'a=test' ]), { 1: 'totally', a: 'test' })
	t.deepEqual(parseTemplateArgs([ 'this', 'is=a', '1=3' ]), { 1: '3', is: 'a' })
	t.deepEqual(parseTemplateArgs([ 'hello=3', 'world=5' ]), { hello: '3', world: '5' })
	t.deepEqual(parseTemplateArgs([ 'helloworld=' ]), { helloworld: '' })
	t.deepEqual(parseTemplateArgs([ 'helloworld====' ]), { helloworld: '' })
	t.deepEqual(parseTemplateArgs([ 'helloworld=null' ]), { helloworld: 'null' })
	t.deepEqual(parseTemplateArgs([ 'helloworld=""' ]), { helloworld: '""' })
	t.end()
})
